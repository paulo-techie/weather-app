(()=>{"use strict";const e=function(e){return fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&appid=2745510d199eb84e68a506d68e71467a`,{mode:"cors"}).then((e=>e.json())).then((e=>e)).catch((e=>e))},t=n=>{const a=document.getElementById("content"),d=document.createElement("header"),c=document.createElement("div"),i=document.createElement("section"),r=document.createElement("section"),p=document.createElement("section"),o=document.createElement("h2"),m=document.createElement("img"),l=document.createElement("form"),h=document.createElement("label"),s=document.createElement("input"),u=document.createElement("button"),E=document.createElement("h3"),C=document.createElement("p"),y=document.createElement("h4"),f=document.createElement("h4");a.appendChild(d),a.appendChild(c),c.appendChild(i),c.appendChild(p),c.appendChild(r),d.appendChild(l),i.appendChild(y),i.appendChild(f),r.appendChild(E),r.appendChild(C),p.appendChild(m),p.appendChild(o),l.appendChild(h),l.appendChild(s),l.appendChild(u),s.setAttribute("placeholder","Enter City"),s.setAttribute("type","text"),s.setAttribute("id","cityname"),s.setAttribute("name","cityname"),p.setAttribute("id","weatherdesc"),h.innerText="Weather",u.innerText="Search",l.addEventListener("submit",(n=>{n.preventDefault();const a=s.value;c.style.display="none",d.style.display="none",e(a).then((e=>t(e))).catch((e=>(o.innerText="City not Found! Try again ...",e)))}));const b=Array.from(n.weather);o.innerText=b[0].description,m.setAttribute("src",`http://openweathermap.org/img/wn/${b[0].icon}@2x.png`),m.setAttribute("alt",b[0].description),y.innerText=n.name,f.innerHTML='<i class="fas fa-map-marker-alt"></i>',E.innerHTML=`${Math.round(n.main.temp-273.15)} &#8451;`,C.innerHTML='<i class="fas fa-thermometer-full"></i>'},n=t;fetch("https://freegeoip.app/json/",{mode:"cors"}).then((e=>e.json())).then((e=>e.city)).catch((e=>e)).then((t=>e(t))).then((e=>n(e))).catch((e=>console.log(e)))})();