(()=>{"use strict";const e=e=>fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=2745510d199eb84e68a506d68e71467a`,{mode:"cors"}).then((e=>e.json())).then((e=>e)).catch((e=>e)),t=n=>{const a=document.getElementById("content"),d=document.createElement("header"),i=document.createElement("div"),c=document.createElement("section"),l=document.createElement("section"),r=document.createElement("section"),p=document.createElement("h2"),m=document.createElement("img"),s=document.createElement("form"),o=document.createElement("label"),h=document.createElement("input"),u=document.createElement("button");let y=document.createElement("button"),E=document.createElement("h3"),C=document.createElement("h3");const b=document.createElement("p"),f=document.createElement("h4"),A=document.createElement("h4");a.appendChild(d),a.appendChild(i),i.appendChild(c),i.appendChild(r),i.appendChild(l),d.appendChild(s),c.appendChild(f),c.appendChild(A),l.appendChild(y),l.appendChild(E),l.appendChild(C),l.appendChild(b),r.appendChild(m),r.appendChild(p),s.appendChild(o),s.appendChild(h),s.appendChild(u),h.setAttribute("placeholder","Enter City"),h.setAttribute("type","text"),h.setAttribute("id","cityname"),h.setAttribute("name","cityname"),C.setAttribute("id","fahrenheit"),E.setAttribute("id","celsius"),y.setAttribute("id","switch-temp"),r.setAttribute("id","weatherdesc"),o.innerText="Weather",u.innerText="Search",s.addEventListener("submit",(n=>{n.preventDefault();const a=h.value;i.style.display="none",d.style.display="none",e(a).then((e=>t(e))).catch((e=>e))}));const T=Array.from(n.weather);p.innerText=T[0].description,m.setAttribute("src",`http://openweathermap.org/img/wn/${T[0].icon}@2x.png`),m.setAttribute("alt",T[0].description),f.innerText=n.name,A.innerHTML='<i class="fas fa-map-marker-alt"></i>',y.innerText="Fahrenheit",E.innerHTML=`${Math.round(n.main.temp-273.15)} °C`,C.innerHTML=`${Math.round(1.8*(n.main.temp-273.15)+32)} °F`,b.innerHTML='<i class="fas fa-thermometer-full"></i>',C.style.display="none",y.addEventListener("click",(e=>{e.preventDefault();let t=document.getElementById("fahrenheit"),n=document.getElementById("celsius"),a=document.getElementById("switch-temp");"none"===t.style.display?(t.style.display="block",n.style.display="none",a.innerText="Celsius"):(t.style.display="none",n.style.display="block",a.innerText="Fahrenheit")}))},n=t;fetch("https://freegeoip.app/json/",{mode:"cors"}).then((e=>e.json())).then((e=>e.city)).catch((e=>e)).then((t=>e(t))).then((e=>n(e))).catch((e=>e))})();