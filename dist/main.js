(()=>{"use strict";const e=e=>fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=2745510d199eb84e68a506d68e71467a`,{mode:"cors"}).then((e=>e.json())).then((e=>e)).catch((e=>e)),t=n=>{const a=document.getElementById("content"),i=document.createElement("header"),d=document.createElement("div"),c=document.createElement("section"),r=document.createElement("section"),l=document.createElement("section"),p=document.createElement("h2"),s=document.createElement("img"),m=document.createElement("form"),h=document.createElement("label"),o=document.createElement("input"),u=document.createElement("button"),y=document.createElement("button"),E=document.createElement("h3"),C=document.createElement("h3"),b=document.createElement("p"),f=document.createElement("h4"),A=document.createElement("h4");a.appendChild(i),a.appendChild(d),d.appendChild(c),d.appendChild(l),d.appendChild(r),i.appendChild(m),c.appendChild(f),c.appendChild(A),r.appendChild(y),r.appendChild(E),r.appendChild(C),r.appendChild(b),l.appendChild(s),l.appendChild(p),m.appendChild(h),m.appendChild(o),m.appendChild(u),o.setAttribute("placeholder","Enter City"),o.setAttribute("type","text"),o.setAttribute("id","cityname"),o.setAttribute("name","cityname"),C.setAttribute("id","fahrenheit"),E.setAttribute("id","celsius"),y.setAttribute("id","switch-temp"),l.setAttribute("id","weatherdesc"),h.innerText="Weather",u.innerText="Search",m.addEventListener("submit",(n=>{n.preventDefault();const a=o.value;d.style.display="none",i.style.display="none",e(a).then((e=>t(e))).catch((e=>e))}));const T=Array.from(n.weather);p.innerText=T[0].description,s.setAttribute("src",`https://openweathermap.org/img/wn/${T[0].icon}@2x.png`),s.setAttribute("alt",T[0].description),f.innerText=n.name,A.innerHTML='<i class="fas fa-map-marker-alt"></i>',y.innerText="Fahrenheit",E.innerHTML=`${Math.round(n.main.temp-273.15)} °C`,C.innerHTML=`${Math.round(1.8*(n.main.temp-273.15)+32)} °F`,b.innerHTML='<i class="fas fa-thermometer-full"></i>',C.style.display="none",y.addEventListener("click",(e=>{e.preventDefault(),"none"===C.style.display?(C.style.display="block",E.style.display="none",y.innerText="Celsius"):(C.style.display="none",E.style.display="block",y.innerText="Fahrenheit")}))},n=t;fetch("https://freegeoip.app/json/",{mode:"cors"}).then((e=>e.json())).then((e=>e.city)).catch((e=>e)).then((t=>e(t))).then((e=>n(e))).catch((e=>e))})();